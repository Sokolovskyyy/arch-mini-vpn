<div align="center">

```
 ███╗   ███╗██╗███╗   ██╗██╗    ██╗   ██╗██████╗ ███╗   ██╗
 ████╗ ████║██║████╗  ██║██║    ██║   ██║██╔══██╗████╗  ██║
 ██╔████╔██║██║██╔██╗ ██║██║    ██║   ██║██████╔╝██╔██╗ ██║
 ██║╚██╔╝██║██║██║╚██╗██║██║    ╚██╗ ██╔╝██╔═══╝ ██║╚██╗██║
 ██║ ╚═╝ ██║██║██║ ╚████║██║     ╚████╔╝ ██║     ██║ ╚████║
 ╚═╝     ╚═╝╚═╝╚═╝  ╚═══╝╚═╝     ╚═══╝  ╚═╝     ╚═╝  ╚═══╝
```

**Минималистичный GUI-менеджер WireGuard для Arch Linux**

[![Python](https://img.shields.io/badge/Python-3.10%2B-3776AB?style=flat-square&logo=python&logoColor=white)](https://python.org)
[![PyQt6](https://img.shields.io/badge/PyQt6-GUI-41CD52?style=flat-square&logo=qt&logoColor=white)](https://pypi.org/project/PyQt6/)
[![WireGuard](https://img.shields.io/badge/WireGuard-VPN-88171A?style=flat-square&logo=wireguard&logoColor=white)](https://wireguard.com)
[![Arch Linux](https://img.shields.io/badge/Arch_Linux-1793D1?style=flat-square&logo=arch-linux&logoColor=white)](https://archlinux.org)
[![License](https://img.shields.io/badge/Лицензия-MIT-yellow?style=flat-square)](LICENSE)

*Подключайся. Защищайся. Не трогай терминал.*

</div>

---

## ✦ О проекте

**Mini VPN** — это компактное desktop-приложение для управления WireGuard-подключениями на Arch Linux. Никаких тяжёлых клиентов, никакой лишней магии — только чистый PyQt6-интерфейс поверх `wg-quick`.

Написан для тех, кто устал каждый раз лезть в терминал ради `sudo wg-quick up ./config.conf`.

<div align="center">

| | |
|---|---|
| 🎨 Тёмная тема в стиле Tokyo Night | ⚡ Мгновенное переключение туннелей |
| 🌐 Определение реального IP в реальном времени | 📡 Мониторинг пинга в фоне |
| 🔒 Скрытие IP одним кликом | 🔁 Автозапуск вместе с системой |
| 🛠 Автоустановка зависимостей | 🔇 Патч DNS в конфигах WireGuard |

</div>

---

## ⚡ Быстрый старт

### Требования

- Arch Linux (или производные: Manjaro, EndeavourOS и т.д.)
- Python 3.10+
- KDE Konsole (для установки пакетов через GUI)

### Настройка SSH (один раз)

GitHub больше не принимает пароли при клонировании — нужен SSH-ключ. Если ещё не настроен:

```bash
# 1. Генерируешь ключ
ssh-keygen -t ed25519 -C "твой@email.com"

# 2. Копируешь публичный ключ
cat ~/.ssh/id_ed25519.pub
```

Идёшь на GitHub → **Settings → SSH and GPG keys → New SSH key** → вставляешь скопированное. Готово — больше никаких паролей.

### Установка

```bash
# 1. Клонировать репозиторий (через SSH)
git clone git@github.com:Sokolovskyyy/arch-mini-vpn.git
cd arch-mini-vpn

# 2. Запустить скрипт — при первом запуске он сам предложит установить зависимости GUI
python3 arch-mini-vpn.py
```

> При **первом запуске** появится диалог установки `python-pyqt6` и `python-requests` — просто нажми **«Да»**.

### WireGuard-конфиги

Положи свои `.conf` файлы в папку:

```
~/vpn-configs/
├── amsterdam.conf
├── frankfurt.conf
└── singapore.conf
```

Файлы сразу появятся в выпадающем списке приложения.

---

## 🖥 Интерфейс

```
┌─────────────────────────────────────┐
│         ✅ АКТИВЕН: AMSTERDAM        │  ← статус подключения
├─────────────────────────────────────┤
│        ВАШ IP: 185.220.×××.×××      │  ← клик — скрыть/показать IP
│             Ping: 18 ms             │
├─────────────────────────────────────┤
│  Выберите сервер:                   │
│  [ amsterdam          ▾ ] [📝] [📂] │
├─────────────────────────────────────┤
│  🔇 ЗАКОММЕНТИРОВАТЬ DNS В КОНФИГЕ  │
│  🛠  УСТАНОВИТЬ ЗАВИСИМОСТИ         │
│  🔁 ДОБАВИТЬ В АВТОЗАГРУЗКУ         │
│                                     │
│  ⚡      ВКЛЮЧИТЬ VPN               │
│  🛑      ВЫКЛЮЧИТЬ VPN              │
└─────────────────────────────────────┘
```

---

## 🔧 Функциональность

### 📍 Мониторинг IP и пинга
Фоновый поток каждые 7 секунд получает твой реальный IP через `api.ipify.org` и пингует `1.1.1.1`. IP можно скрыть кликом на кнопку — удобно при стримах или скриншотах.

### 📁 Управление конфигами
- **📝** — переименовать конфиг прямо из интерфейса
- **📂** — открыть папку `~/vpn-configs` в файловом менеджере
- Список серверов обновляется автоматически

### 🔇 Патч DNS
Некоторые конфиги WireGuard содержат строку `DNS = ...`, которая может конфликтовать с системным резолвером. Кнопка **«Закомментировать DNS»** добавляет `#` перед всеми такими строками в выбранном конфиге.

```diff
 [Interface]
 PrivateKey = ...
-DNS = 1.1.1.1
+# DNS = 1.1.1.1
```

### 🔁 Автозагрузка
Создаёт / удаляет файл `~/.config/autostart/arch-mini-vpn.desktop`. Работает с любым DE, поддерживающим XDG Autostart (KDE, GNOME, XFCE и др.).

### 🛠 Зависимости VPN
Кнопка **«Установить зависимости»** ставит через `pacman`:

| Пакет | Назначение |
|---|---|
| `wireguard-tools` | `wg` и `wg-quick` |
| `openresolv` | управление DNS-резолверами |
| `wgcf` | генерация Cloudflare WARP конфигов |
| `python-requests` | HTTP-запросы для получения IP |

---

## 📁 Структура проекта

```
arch-mini-vpn/
├── arch-mini-vpn.py          # основной скрипт
├── README.md
└── ~/vpn-configs/       # сюда кладёшь .conf файлы (создаётся автоматически)
```

Состояние приложения хранится в:
```
~/.config/arch-mini-vpn/
└── .first_run_done      # флаг первого запуска
```

---

## 🤝 Участие в разработке

Pull request'ы приветствуются. Для крупных изменений сначала открой issue.

```bash
git checkout -b feature/моя-фича
git commit -m "feat: добавил крутую фичу"
git push origin feature/моя-фича
```

---

## 📄 Лицензия

Распространяется под лицензией **MIT**. Подробнее — в файле [LICENSE](LICENSE).

---

<div align="center">

Сделано с ☕ и `wg-quick` на Arch Linux

*Если проект оказался полезным — поставь ⭐*

</div>
